<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>리뷰 신고</title>
    <meta charset="utf-8">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- 필요한 추가 CSS 또는 JS -->
</head>
<body>
<div class="container mt-5">
    <form th:action="@{'/store/review/' + ${review.id} + '/report/send'}" method="post">
        <h2 class="mb-4 text-center">리뷰 신고</h2>
        <div class="card">
            <div class="card-body">
                <table class="table">
                    <tr>
                        <td>
                            <table class="table">
                                <tr>
                                    <td colspan="2">
                                        <p class="card-text" style="font-weight: bold;">신고 대상 리뷰</p>
                                    </td>
                                </tr>
                                <tr>
                                    <td><strong th:text="${'닉네임: '+review.customer.nickname}"></strong></td>
                                    <td style="text-align: right;"><strong th:text="${'별점: '+review.review_starpoint}"></strong></td>
                                </tr>
                                <tr>
                                    <td colspan="2" th:text="${review.review_content}"></td>
                                </tr>
                            </table>
                        </td>
                        <td style="width: 50%;">
                            <input type="hidden" name="id" th:value="${review.id}">
                            <p class="card-text" style="font-weight: bold;">신고 사유</p>
                            <textarea class="form-control" rows="5" name="report_content" placeholder="사유를 입력하세요" required></textarea>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
        <div class="text-end mt-3">
            <button class="btn btn-danger delete-btn" type="submit" onclick="return confirmAndRedirect(event, '정말로 리뷰를 삭제 요청합니까?')">삭제 요청</button>
        </div>
    </form>
</div>
<!-- Bootstrap Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script>
    function confirmAndRedirect(event, message) {
        if (confirm(message)) {
            alert('삭제 요청이 전송되었습니다.');
            return true; // 삭제 요청 전송
        } else {
            event.preventDefault();
            return false; // 삭제 요청 취소
        }
    }
</script>
</body>
</html>
